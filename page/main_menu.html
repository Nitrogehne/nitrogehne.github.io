<style>
    @charset "utf-8";

    #main_menu {
        text-align: center;
    }

    #main_menu ul {
        list-style: none;
        display: inline-block;
    }

    #main_menu li {
        float: left;
    }

    #main_menu ul li a {
        background: #111;
        cursor: pointer;
        display: table-cell;
        text-align: center;
        vertical-align: middle;
        text-decoration: none;
        font-size: 1.2em;
        font-weight: bold;
        min-width: 6em;
        min-height: 10em;
        padding: 0.5em 1em;
        white-space: nowrap;
    }

    #main_menu ul > li:nth-child(2n) > a {
        background: #222;
    }

    #main_menu ul li a[href=""],
    #main_menu ul li a[data-url=""] {
        cursor: not-allowed;
    }
    #main_menu ul li:last-child a {
        border-right: 0;
    }

    #main_menu ul li:has(.current) a.current {
        color: var(--color-p);
        background-color: #333;
        border-bottom: 3px solid var(--color-p);
    }

    #main_menu ul li:has(.current) > a {
        border-bottom: 1px solid var(--color-p);
    }

    #main_menu ul li a:hover {
        background: #444;
        color: var(--color-h);
        transform: rotate(6deg);
    }

    #main_menu ul li ul {
        display: none;
        position: absolute;
        width: 100px;
        z-index: 200;
    }

    #main_menu ul li:hover ul {
        display: block;
    }

    #main_menu ul li ul li {
        display: block;
        float: none;
    }

    #main_menu ul li ul li a {
        color: var(--color);
    }

    #main_menu ul li ul li a:hover {
        background: #444;
        color: var(--color-h);
    }

    #main_menu p {
        clear: left;
    }
</style>
<nav id="main_menu"></nav>
<script>
    var menu = [
        {
            title: "Home",
            url: "page/home/index.html",
            sub: [{ title: "Colorset", url: "page/home/colorset/index.html" }],
        },
        {
            title: "nStory",
            url: "page/nstory/index.html",
        },
        {
            title: "App.",
            sub: [
                {
                    title: "Simple Counter",
                    url: "page/app/nCounter/index.html",
                    onclick:
                        "window.open(this.href, 'nCounter', 'width=200, height=100'); return false;",
                    target: "nCounter",
                },
                { title: "결! 합!", url: "page/app/combination/index.html" },
                {
                    title: "Triple Gem",
                    url: "page/app/triplegem/index.html",
                    style: "display: none;",
                },
                {
                    title: "뭐 먹지?",
                    url: "page/app/what_eat/index.html",
                    style: "display: none;",
                },
            ],
        },
        {
            title: "Hobby",
            sub: [
                {
                    title: "nSound",
                    url: "https://soundcloud.com/ehne",
                    icon: "img/icon_soundcloud.png",
                    target: "_blank",
                },
                { title: "BMS", url: "page/hobby/bms/index.html" },
                {
                    title: "nTube",
                    url: "https://www.youtube.com/user/Nitrogehne",
                    icon: "img/icon_youtube.png",
                    target: "_blank",
                },
                {
                    title: "nPump",
                    url: "https://www.youtube.com/c/nPump",
                    icon: "img/icon_youtube.png",
                    target: "_blank",
                },
            ],
        },
        {
            title: "Work",
            sub: [
                { title: "PIU ZERO", url: "page/work/piu_zero/index.html" },
                { title: "PIU NX", url: "page/work/piu_nx/index.html" },
                { title: "PIU NX2", url: "page/work/piu_nx2/index.html" },
                { title: "PIU NXA", url: "page/work/piu_nxa/index.html" },
                { title: "DMT3", url: "page/work/dm_t3/index.html" },
            ],
        },
        {
            title: "Link",
            sub: [
                {
                    title: "nPage",
                    url: "https://nitrogehne.github.io",
                    icon: "img/icon_github.png",
                    target: "_blank",
                    style: "display: none;",
                },
                {
                    title: "nTwitter",
                    url: "https://twitter.com/Nitrogehne",
                    icon: "img/icon_twitter.png",
                    target: "_blank",
                },
                {
                    title: "nLife",
                    url: "https://blog.naver.com/song_ms",
                    icon: "img/icon_naverblog.png",
                    target: "_blank",
                },
                {
                    title: "nEating",
                    url: "http://ehne.tistory.com/",
                    icon: "img/icon_tistory.png",
                    target: "_blank",
                    style: "display: none;",
                },
                {
                    title: "nSound",
                    url: "https://soundcloud.com/ehne",
                    icon: "img/icon_soundcloud.png",
                    target: "_blank",
                },
                {
                    title: "nThink",
                    url: "https://ehnethink.blogspot.com/",
                    icon: "img/icon_blogspot.png",
                    target: "_blank",
                },
                {
                    title: "nPhoto",
                    url: "https://www.instagram.com/nitrogehne/",
                    icon: "img/icon_instagram.png",
                    target: "_blank",
                },
                {
                    title: "nthTime",
                    url: "https://www.instagram.com/ehne_th_time/",
                    icon: "img/icon_instagram.png",
                    target: "_blank",
                },
                {
                    title: "nMemorise",
                    url: "https://www.instagram.com/ehne_memories/",
                    icon: "img/icon_instagram.png",
                    target: "_blank",
                    style: "display: none;",
                },
                {
                    title: "nMoka",
                    url: "https://www.instagram.com/ehne_nmoka/",
                    icon: "img/icon_instagram.png",
                    target: "_blank",
                },
                {
                    title: "nPoGO",
                    url: "https://www.instagram.com/ehne_pokemongo/",
                    icon: "img/icon_instagram.png",
                    target: "_blank",
                },
                {
                    title: "nTube",
                    url: "https://www.youtube.com/user/Nitrogehne",
                    icon: "img/icon_youtube.png",
                    target: "_blank",
                },
                {
                    title: "nPump",
                    url: "https://www.youtube.com/c/nPump",
                    icon: "img/icon_youtube.png",
                    target: "_blank",
                },
                {
                    title: "nTwitch",
                    url: "https://www.twitch.tv/nitrogehne",
                    icon: "img/icon_twitch.png",
                    target: "_blank",
                },
                {
                    title: "n트게더",
                    url: "https://tgd.kr/nitrogehne",
                    icon: "img/icon_tgd.png",
                    target: "_blank",
                },
            ],
        },
        // [ "Visit" ],
    ];

    var init_menu = (parent, sub, lv) => {
        let ul = document.createElement("ul");
        for (let i in sub) {
            let obj = sub[i];
            if (obj.style && obj.style.includes("display: none;")) continue;
            let li = document.createElement("li");
            li.setAttribute("data-lv", lv);
            let a = document.createElement("a");
            let innerHTML = "";
            if (!!obj.icon)
                innerHTML = "<img class='icon' src='" + obj.icon + "'> ";
            innerHTML += obj.title;
            a.innerHTML = innerHTML;
            a.setAttribute(
                obj.target ? "href" : "data-url",
                obj.url ? obj.url : ""
            );
            a.setAttribute("data-target", obj.target ? "" : "main");
            for (let i in obj) {
                if (["title", "url", "icon", "sub"].includes(i)) continue;
                a.setAttribute(i, obj[i]);
            }
            li.appendChild(a);
            ul.appendChild(li);
            if (obj.sub) init_menu(li, obj.sub, lv + 1);
        }
        parent.appendChild(ul);
    };

    var nav = document.getElementById("main_menu");
    init_menu(nav, menu, 1);
    document.querySelector("a").setAttribute("class", "current");
</script>
